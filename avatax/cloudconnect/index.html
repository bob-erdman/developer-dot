<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
    <meta name="robots" content="index,follow" /> 

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Avalara CloudConnect | Avalara Developer</title>

    
    
    
    
    
    <meta name="description" content="API solutions for end-to-end tax compliance">

    <link rel="canonical" href="https://developer.avalara.com/avatax/cloudconnect/">

    
    <meta property="og:title" content="Avalara CloudConnect | Avalara Developer" />
    <meta property="og:type" content="article" />
    <meta property="og:site_name" content="Avalara Developer Network" />
    <meta property="og:description" content="API solutions for end-to-end tax compliance"/>
    <meta property="og:image" content="/developer-dot/public/images/default_share.png" />

    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:image" content="https://developer.avalara.com/public/images/default_share.png "/>
    <meta name="twitter:title" content="Avalara CloudConnect">
    <meta name="twitter:description" content="">
    <meta name="twitter:site" content="@avalara" />

    <link rel="apple-touch-icon" sizes="57x57" href="/developer-dot/public/images/favicon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/developer-dot/public/images/favicon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/developer-dot/public/images/favicon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/developer-dot/public/images/favicon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/developer-dot/public/images/favicon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/developer-dot/public/images/favicon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/developer-dot/public/images/favicon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/developer-dot/public/images/favicon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/developer-dot/public/images/favicon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/developer-dot/public/images/favicon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/developer-dot/public/images/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/developer-dot/public/images/favicon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/developer-dot/public/images/favicon/favicon-16x16.png">
    <link rel="manifest" href="/developer-dot/public/images/favicon/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff ">
    <meta name="msapplication-TileImage" content="/developer-dot/public/images/favicon/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff ">

    <link rel="stylesheet" href="/developer-dot/public/css/style.css">

    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <!-- Adobe Dynamic Tab Manager Tag Manager -->
    <script src="https://assets.adobedtm.com/bc10a2a9cf337c664f8f74e778a1987125aea184/satelliteLib-0387aefee1ddb8b2a9db7e4165c8d84dc0de8621.js"></script>
    <!-- End Adobe Dynamic Tab Manager Tag Manager -->
</head>
 

<body id="top" data-product=CloudConnect>
    <header>
        <!-- style ref: https://www.avalara.com/us/en/blog/2019/01/avatax-19-1-patch-notes.html -->
        <nav class="navbar navbar-static" style="box-shadow: 0 1px 3px rgba(0,0,0,0.12);">
            <div class="pageTitle" style="float: left">
                <a href="/developer-dot/">
                    <img src="/developer-dot/public/images/Avalara_logo.svg" alt="Avalara Developer Network">
                    <span>Developer</span>
                </a>
            </div>
            <div class="navbar-header">
                <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target=".js-navbar-collapse">
                <span>Menu</span>
            </button>
            </div>
            <div class="collapse navbar-collapse js-navbar-collapse">
                <ul class="nav navbar-nav apis " style="padding-top: 8px">
                    <li class="apis visible-xs-block"><a href="/developer-dot/avalara-apis"><span class="text-uppercase">API</span>s</a></li>
                    <li class="visible-xs-block"><a href="/developer-dot/avatax/dev-guide/"><span class="text-uppercase">AvaTax Developer Guide</span></a></li>
                    <li class="apis dropdown dropdown-large hidden-xs">
                        <a class="dropdown-toggle" data-toggle="dropdown"><span class="text-uppercase">API</span>s <i class="caret"></i></a>
                        <div class="dropdown-menu dropdown-menu-large" style="min-width: 700px; padding: 15px;">
                            <div class="row">
                                <div class="col-md-12"><a href="/developer-dot/avalara-apis">APIs overview</a></div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <h2>Tax calculation</h2>
                                    
                                        <h4>Avalara AvaTax</h4>
                                        <ul class="pipe">
                                            
                                                <li><a href="/developer-dot/avatax">Overview</a></li>
                                            
                                                <li><a href="/developer-dot/avatax/dev-guide">Developer Guide</a></li>
                                            
                                                <li><a href="/developer-dot/api-reference/avatax/rest/v2">API reference</a></li>
                                            
                                            <br/>
                                            <li><a href="/developer-dot/avatax/use-cases">Use Cases</a></li>
                                            <li><a href="https://buy.avalara.com/signup?partner=API">Start your AvaTax free trial now!</a></li>
                                        </ul>
                                     
                                    
                                        <h4>Avalara Communications</h4>
                                        <ul class="pipe">
                                            
                                                <li><a href="/developer-dot/communications">Overview</a></li>
                                            
                                                <li><a href="/developer-dot/communications/dev-guide_rest_v2">REST v2 Developer Guide</a></li>
                                            
                                                <li><a href="/developer-dot/communications/dev-guide_geo_soap">AFC Geo Soap Developer Guide</a></li>
                                            
                                        </ul>
                                     
                                    
                                        <h4>Avalara Excise</h4>
                                        <ul class="pipe">
                                            
                                                <li><a href="/developer-dot/excise">Overview</a></li>
                                            
                                                <li><a href="/developer-dot/api-reference/excise/5_18_0">API reference</a></li>
                                            
                                        </ul>
                                    
                                    
                                        <h4>Avalara MyLodgeTax</h4>
                                        <ul class="pipe">
                                            
                                                <li><a href=/mylodge>Overview</a></li>
                                            
                                                <li><a href=/api-reference/myLodgeAPI/overview-onboarding/>API reference</a></li>
                                            
                                        </ul>
                                    
                                    	
                                        <h4>Avalara Item Classification</h4>	
                                        <ul class="pipe">	
                                            	
                                                <li><a href=/item-classification>Overview</a></li>	
                                            	
                                                <li><a href=/api-reference/item-classification/v2/>API reference</a></li>	
                                            	
                                        </ul>	
                                    
                                </div>
                                <div class="col-md-6">
                                    <h2>Compliance document management</h2>
                                    
                                        <h4>Avalara CertCapture</h4>
                                        <ul class="pipe">
                                            
                                                <li><a href="/developer-dot/certcapture">Overview</a></li>
                                            
                                                <li><a href="http://docs.certcapture6xrest.apiary.io/">API reference</a></li>
                                            
                                        </ul>
                                    
                                    <h2>Returns &amp; filing</h2>
                                     
                                    
                                        <h4>Avalara TrustFile</h4>
                                        <ul class="pipe">
                                            
                                                <li><a href="/developer-dot/trustfile">Overview</a></li>
                                            
                                                <li><a href="/developer-dot/api-reference/trustfile/api">API reference</a></li>
                                            
                                        </ul>
                                    
                                </div>
                            </div>
                        </div>
                    </li>
                    <li class="sdk dropdown dropdown-large hidden-xs">
                        <a class="dropdown-toggle" data-toggle="dropdown"><span class="text-uppercase">SDK</span> <b class="caret"></b></a>
                        <ul class="dropdown-menu dropdown-menu-large noPipe">
                            <li ><a href="/developer-dot/avatax/signup">Get Started with AvaTax</a></li>
                            <br/>
                            <li><a href="/developer-dot/sdk/">The AvaTax SDK</a></li>
                            <li><a href="/developer-dot/sdk/soap">SOAP SDK</a></li>
                            <br/>
                            <li><a target="_blank" href="https://www.nuget.org/packages/Avalara.AvaTax/">Install C# SDK via NuGet</a></li>
                            <li><a target="_blank" href="https://www.npmjs.com/package/avatax">Install JavaScript SDK via NPMJS</a></li>
                            <li><a target="_blank" href="https://search.maven.org/#search%7Cga%7C1%7Cg%3A%22net.avalara.avatax%22">Install JRE SDK via Maven</a></li>
                            <li><a target="_blank" href="https://packagist.org/packages/avalara/avataxclient">Install PHP SDK via Composer</a></li>
                            <li><a target="_blank" href="https://pypi.python.org/pypi/Avalara">Install Python SDK via PyPI</a></li>
                            <li><a target="_blank" href="https://rubygems.org/gems/avatax">Install Ruby SDK via RubyGems</a></li>
                        </ul>
                    </li>
                    <li class="tests dropdown dropdown-large hidden-xs">
                        <a class="dropdown-toggle" data-toggle="dropdown"><span class="text-uppercase">Tests</span> <b class="caret"></b></a>
                        <ul class="dropdown-menu dropdown-menu-large noPipe">
                            <li><a href="/developer-dot/tests/communications-test">Avalara for Communications Test Cases</a></li>
                            <li><a href="/developer-dot/tests/testing-your-integration/">Avalara Test Cases</a></li>

                        </ul>
                    </li>            
                    <li class="certification dropdown dropdown-large hidden-xs">
                        <a class="dropdown-toggle" data-toggle="dropdown"><span class="text-uppercase">Become Certified</span> <b class="caret"></b></a>
                        <ul class="dropdown-menu dropdown-menu-large noPipe" style="min-width: 230px">
                            <li><a href="/developer-dot/certification/">Overview</a></li>
                            <li><a href="/developer-dot/certification/excise/">Avalara Excise</a></li>
                            <li><a href="/developer-dot/certification/avatax/">Certification Badges</a></li>
                        </ul>
                    </li>
                    <li class="resources dropdown dropdown-large hidden-xs">
                        <a class="dropdown-toggle" data-toggle="dropdown"><span class="text-uppercase">Resources</span> <b class="caret"></b></a>
                        <ul class="dropdown-menu dropdown-menu-large noPipe">
                            <li><a href="/developer-dot/resources/conferences">Avalara CRUSH Conference</a></li>
                            <li><a href="https://avalaracommunity.force.com/partnerlaunch" target="_blank">Avalara Launch Center</a></li>
                            <li><a href="https://www.avalara.com/us/en/blog/category/patch-updates.html">API Patch Notes</a></li>
                            <li><a href="https://www.avalara.com/us/en/blog/category/developer.html">Developer Blog</a></li>
                            <li><a href="/developer-dot/resources/support">Developer Support Options</a></li>
                            <li><a href="https://community.avalara.com/avalara/category_sets/developers">Help Forum</a></li>
                            <li><a href="https://www.avalara.com/us/en/learn/webinars.html#developerwebinars">Webinars</a></li>
                            <li><a href="https://offers.avalara.com/monthlydevelopernewsletter/">Monthly Developer Newsletter</a></li>
                        </ul>
                    </li>
                    <li class="resources visible-xs-block"><a href="/developer-dot/resources/conferences"><span class="text-uppercase">Avalara CRUSH Conference</span></a></li>
                    <li class="resources visible-xs-block"><a href="https://avalaracommunity.force.com/partnerlaunch"><span class="text-uppercase">Avalara Launch Center</span></a></li>
                    <li class="resources visible-xs-block"><a href="https://www.avalara.com/us/en/blog/category/patch-updates.html"><span class="text-uppercase">API Patch Notes</span></a></li>
                    <li class="resources visible-xs-block"><a href="https://www.avalara.com/us/en/blog/category/developer.html"><span class="text-uppercase">Developer Blog</span></a></li>
                    <li class="resources visible-xs-block"><a href="/developer-dot/resources/support"><span class="text-uppercase">Developer Support Options</span></a></li>
                    <li class="resources visible-xs-block"><a href="https://community.avalara.com/avalara/category_sets/developers"><span class="text-uppercase">Help Forum</span></a></li>
                    <li class="resources visible-xs-block"><a href="https://community.avalara.com/avalara/category_sets/developers"><span class="text-uppercase">Webinars</span></a></li>
                    <li class="resources visible-xs-block"><a href="https://offers.avalara.com/monthlydevelopernewsletter/"><span class="text-uppercase">Monthly Developer Newsletter</span></a></li>
                    
                </ul>
                
                <div style="float: right;">
                    
                        <a href="/developer-dot/avatax/avatax-demo/" class="btn btn-signup btn-demo" style="margin-top: 8px">Demo API</a>
                    
                    <a href="https://buy.avalara.com/signup?partner=API" class="btn btn-signup" style="margin-top: 8px">Free Trial</a>
                </div>
                
            </div>
        </nav>
    </header>
    <div class="container-fluid use_cases">
          


<div class="breadcrumbs">
    <div class="col-md-12">
        <ul class="pipe">
            <li><span class="text-uppercase">Tax Calculation API</span>s</li>
            <li class="text-uppercase"><a href="/developer-dot/cloudconnect">Avalara CloudConnect</a></li>
            <li class="text-uppercase">use cases</li>
        </ul>
    </div>
</div>
  
        <section class="row padding-sides half">
            <nav class="col-md-3">
                 <ul class="api-ref-side-nav nav nav-pills nav-stacked hidden-xs hidden-sm">
    <li ><a href="/developer-dot/avatax/use-cases">Document Workflow</a></li>
    <li ><a href="/developer-dot/avatax/calculating-tax">Calculating Tax</a></li>
    <li ><a href="/developer-dot/avatax/address-validation">Address Validation</a></li>
    <li ><a href="/developer-dot/avatax/reportable-transactions">Reportable Transactions</a></li>
    <li ><a href="/developer-dot/avatax/handling-return-invoices">Product Returns</a></li>
    <li ><a href="/developer-dot/avatax/handling-tax-exempt-customers">Exempt Transactions</a></li>
    <li ><a href="/developer-dot/avatax/voiding-documents">Voiding Documents</a></li>
    <li ><a href="/developer-dot/avatax/vat-transactions">VAT Transactions</a></li>
    <li ><a href="/developer-dot/avatax/drop-shipping">Drop Shipping</a></li>
    <li ><a href="/developer-dot/avatax/consumer-use-tax">Consumer Use Tax</a></li>
    <li ><a href="/developer-dot/avatax/batch-file-reference">Batch File Reference</a></li>
    <li ><a href="/developer-dot/avatax/automated-provisioning">Automated Provisioning</a></li>
    <li ><a href="/developer-dot/avatax/soap-or-rest">SOAP or REST</a></li>
    <li ><a href="/developer-dot/avatax/filtering-in-rest/">Filtering in REST</a></li>
    <li ><a href="/developer-dot/avatax/authentication-in-rest/">Authentication in REST</a></li>
    <li ><a href="/developer-dot/avatax/client-headers/">Client Profile Headers</a></li>
    <li ><a href="/developer-dot/avatax/finding-your-companyid">Finding Your CompanyId</a></li>
    <li ><a href="/developer-dot/avatax/proxy-server-settings">Proxy Server Settings</a></li>
    <li ><a href="/developer-dot/avatax/ssl-certificates">SSL Certificates</a></li>
    <li ><a href="/developer-dot/avatax/errors-and-outages">Errors and Outages</a></li>
    <li ><a href="/developer-dot/avatax/errors">REST Error Codes</a></li>
    <li ><a href="/developer-dot/avatax/common-errors">SOAP Error Codes</a></li>
    <li ><a href="/developer-dot/avatax/service-availability-and-performance">Service Availability</a></li>
    <li ><a href="/developer-dot/avatax/going-live">Going Live</a></li>
    <li ><a href="/developer-dot/avatax/logins">Logins and Resources</a></li>
    <li class="active" ><a href="/developer-dot/avatax/cloudconnect">Cloud Connect</a></li>

</ul>
<div class="sm-section-nav dropdown visible-xs-block visible-sm-block">
    <button id="use-case-nav" type="button" data-toggle="dropdown">Use Cases</button>
    <p>Tax Use Cases</p>
    <ul class="dropdown-menu" aria-labelledby="use-case-nav">
        <li><a href="/developer-dot/avatax/use-cases">Document Workflow</a></li>
        <li><a href="/developer-dot/avatax/calculating-tax">Calculating Tax</a></li>
        <li><a href="/developer-dot/avatax/address-validation">Address Validation</a></li>
        <li><a href="/developer-dot/avatax/reportable-transactions">Reportable Transactions</a></li>
        <li><a href="/developer-dot/avatax/handling-return-invoices">Product Returns</a></li>
        <li><a href="/developer-dot/avatax/handling-tax-exempt-customers">Exempt Transactions</a></li>
        <li><a href="/developer-dot/avatax/voiding-documents">Voiding Documents</a></li>
        <li><a href="/developer-dot/avatax/vat-transactions">VAT Transactions</a></li>
        <li><a href="/developer-dot/avatax/drop-shipping">Drop Shipping</a></li>
        <li><a href="/developer-dot/avatax/consumer-use-tax">Consumer Use Tax</a></li>
        <li><a href="/developer-dot/avatax/batch-file-reference/">Batch File Reference</a></li>
        <li><a href="/developer-dot/avatax/automated-provisioning">Automated Provisioning</a></li>
        <li><a href="/developer-dot/avatax/soap-or-rest">SOAP or REST</a></li>
        <li><a href="/developer-dot/avatax/filtering-in-rest/">Filtering in REST</a></li>
        <li><a href="/developer-dot/avatax/authentication-in-rest/">Authentication in REST</a></li>
        <li><a href="/developer-dot/avatax/client-headers/">Client Profile Headers</a></li>
        <li><a href="/developer-dot/avatax/finding-your-companyid">Finding Your CompanyId</a></li>
        <li><a href="/developer-dot/avatax/proxy-server-settings">Proxy Server Settings</a></li>
        <li><a href="/developer-dot/avatax/ssl-certificates">SSL Certificates</a></li>
        <li><a href="/developer-dot/avatax/errors-and-outages">Errors and Outages</a></li>
        <li><a href="/developer-dot/avatax/errors">REST Error Codes</a></li>
        <li><a href="/developer-dot/avatax/common-errors">SOAP Error Codes</a></li>
        <li><a href="/developer-dot/avatax/service-availability-and-performance">Service Availability</a></li>
        <li><a href="/developer-dot/avatax/going-live">Going Live</a></li>
        <li><a href="/developer-dot/avatax/logins">Logins and Resources</a></li>
        <li><a href="/developer-dot/avatax/cloudconnect">Cloud Connect</a></li>
    </ul>
</div>
 
            </nav>
            <main class="col-md-9"><h2>Avalara CloudConnect</h2>
<h3>CloudConnect Setup Guide</h3>
<h4>Installation Recommendations</h4>
<p>1.The preferred implementation is at least two (2) CloudConnect systems for redundancy. Each unit should require only 1U of rack space. Each unit requires two (2) power outlets, each in separate PDU’s, and one (1) Ethernet port. The four (4) Ethernet ports are bonded by default and either may be used. The fifth port is for IPMI.<br /></p>
<ol>
  <li>The preferred implementation is to place all CloudConnect systems in a Private DMZ. This DMZ should allow inbound only from the customer’s network and outbound to the Internet. The systems are fully firewalled and only expose the AvaTax API and only communicates out to Avalara to get content, customer data and security updates. Avalara’s preference is that the system uses a private IP address.</li>
</ol>

<h4>Initial Setup</h4>
<p>Once powered on, the LCD will display a booting message and then begin scrolling after approximately one minute. At this point the system is ready to be configured.
The system defaults to DHCP. The address it acquires will be displayed on the LCD. To change to static IP address:
<br />1. Use the LCD up/down buttons to select “CHANGE IP” and confirm the selection by using the green checkmark button.
<br />2. Choose the adapter “bond0” by using the up/down buttons and confirm the selection by using the green checkmark button.
<br />3. The following information needs to be confirmed in order: STATIC/DHCP, IP ADDRESS, SUBNET, GATEWAY, DNS 1, DNS 2. Use the up/down buttons to change values and the left/right buttons to change the position. Use the green checkmark button to confirm selections and the red X button to cancel tasks.
<br />4. The system will set the IP address and should be available after a minute.</p>
<b4>5. Confirm the setup by pinging the system.

<h4>Firewall Configuration</h4>
After confirming that all of the systems are online, please configure your firewall to allow the following communication with the system. This information is current as of 04//09/2019 and is subject to change.

<div class="mobile-table">
	<table class="styled-table">
		<thead>
			<tr>
				<th>Direction</th>
				<th>Port (Protocol)</th>
				<th>Source</th>
				<th>Destination Host/IP</th>
				<th>Purpose</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>Inbound</td>
				<td>8080 (HTTP)</td>
				<td>Any</td>
				<td>System IP</td>
				<td>AvaTax API</td>
			</tr>
			<tr>
				<td>Inbound</td>
				<td>8084, 443 (HTTPS)</td>
				<td>Any</td>
				<td>System IP</td>
				<td>AvaTax API</td>
			</tr>
			<tr>
				<td>Outbound</td>
				<td>7(ICMP)</td>
				<td>System IP</td>
				<td>8.8.8.8</td>
				<td>Ping</td>
			</tr>
			<tr>
				<td>Outbound</td>
				<td>53 (DNS)</td>
				<td>System IP</td>
				<td>8.8.8.8, 8.8.4.4</td>
				<td>DNS lookup</td>
		</tr>
		<tr>
				<td>Outbound</td>
				<td>123 (NTP)</td>
				<td>System IP</td>
				<td>ntp.ubuntu.com</td>
				<td>Network time protocol</td>
		</tr>
			<tr>
				<td>Inbound</td>
				<td>30001 (SSH)</td>
				<td>Any</td>
				<td>System IP</td>
				<td>Customer SSH access</td>
		</tr>
			<tr>
				<td>Outbound</td>
				<td>30001 (SSH)</td>
				<td>Any</td>
				<td>tunnel.cloudconnect.avalara.net</td>
				<td>Remote Administration</td>
		</tr>
			<tr>
				<td>Inbound</td>
				<td>30009 (HTTP)</td>
				<td>Any</td>
				<td>System IP</td>
				<td>AvaTax engine health</td>
		</tr>
			<tr>
				<td>Outbound</td>
				<td>443 (HTTPS)</td>
				<td>System IP</td>
				<td>avatax.avalara.net</td>
				<td>Synchronization of content and customer data</td>
		</tr>
			<tr>
				<td>Outbound</td>
				<td>8084 (HTTPS)</td>
				<td>System IP</td>
				<td>avatax.cloudconnect.avalara.net</td>
				<td>Synchronization of content and customer data</td>
		</tr>
			<tr>
				<td>Outbound</td>
				<td>443 (HTTPS)</td>
				<td>System IP</td>
				<td>ingest.signalfx.com, hooks.slack.com, slack.com, api.opsgenie.com, collectors.sumologic.com, collectors.us2.sumologic.com, endpoint1.collection.us2.sumologic.com, endpoint2.collection.us2.sumologic.com, endpoint3.collection.us2.sumologic.com </td>
				<td>Metrics collection</td>
		</tr>
			<tr>
				<td>Outbound</td>
				<td>5671 (HTTPS)</td>
				<td>System IP</td>
				<td>c4.cloudconnect.avalara.net</td>
				<td>Messaging service bus</td>
		</tr>
				<tr>
				<td>Outbound</td>
				<td>443 (HTTPS)</td>
				<td>System IP</td>
				<td>package.cloudconnect.avalara.net</td>
				<td>Linux package updates</td>
		</tr>
				<tr>
				<td>Outbound</td>
				<td>443 (HTTPS)</td>
				<td>System IP</td>
				<td>avalara-cc-databaserecordupload.s3.amazonaws.com, avalara-cc-databaserecordupload.s3-us-west-2.amazonaws.com, avalara-cc-databaserecordupload.s3.us-west-2.amazonaws.com, avalara-cc-packages.s3.amazonaws.com, avalara-cc-packages.s3-us-west-2.amazonaws.com, avalara-cc-packages.s3.us-west-2.amazonaws.com, avalara-cc-vms.s3.amazonaws.com, avalara-cc-vms.s3-us-west-2.amazonaws.com, avalara-cc-vms.s3.us-west-2.amazonaws.com, s3-us-west-2-r-w.amazonaws.com</td>
				<td>Amazon S3</td>
		</tr>
				<tr>
				<td>Outbound</td>
				<td>443 (HTTPS)</td>
				<td>System IP</td>
				<td>edelivery.oracle.com 
					download.oracle.com
				</td>
				<td>JRE Updates</td>
		</tr>
				<tr>
				<td>Outbound</td>
				<td>30001 (SSH)</td>
				<td>System IP</td>
				<td>ccarchive.avalara.net</td>
				<td>Virtual machine (VM) updates</td>
		</tr>
			<tr>
				<td>Outbound</td>
				<td>30001 (SSH), 443 (HTTPS)</td>
				<td>System IP</td>
				<td>images.cloudconnect.avalara.net</td>
				<td>Code and content updates</td>
		</tr>
		</tbody>
	</table>  
</div>

<h4>Load Balance Configuration</h4>
The recommended implementation is to setup a VIP with a load balancer in a least-connected configuration and use the following health checks to verify availability. It is important to add the endpoint https://avatax.cloudconnect.avalara.net:8084 with a lower weight such that traffic will be directed to the Avalara Cloud API if all CloudConnect systems are unavailable. For the CloudConnect health check below, use either option #1 or #2.

<div class="mobile-table">
	<table class="styled-table">
		<thead>
			<tr>
				<th>Service</th>
				<th>URL</th>
				<th>Type</th>
				<th>Return</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>CloudConnect health #1</td>
				<td>http://<i>SystemUrl</i>:30009/calc</td>
				<td>GET</td>
				<td>{ "Status": "OK" }</td>
			</tr>
			<tr>
				<td>CloudConnect health #2</td>
				<td>http://<i>SystemUrl</i>:30009/orangez/health.aspx</td>
				<td>GET</td>
				<td>{ "Status": "OK" }</td>
			</tr>
			<tr>
				<td>Cloud API health</td>
				<td>https://avatax.cloudconnect.avalara.net:8084/orangez/health.aspx</td>
				<td>GET</td>
				<td>{ "Status": "OK" }</td>
			</tr>
		</tbody>
	</table>  
</div>

<h4>System Statistics</h4>

System information can be obtained through a system statistics API.

<div class="mobile-table">
	<table class="styled-table">
		<thead>
			<tr>
				<th>URL</th>
				<th>Type</th>
				<th>Return (Example Values)</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>http://<i>SystemUrl</i>:30009/system</td>
				<td>GET</td>
				<td>{ "CPULoad" : "0.22474747474747475", "IOLoad" : "{Writes=5870410, ServiceTime=2.1537940727624463, ReadBytes=224253660160, WriteBytes=264978800640, Queue=0.30939469012845217, Reads=1892633}", "Swap" : "0.0051986077", "ConcurrentRequests" : "", SystemIsAvailable:"true", RedirectToCloud:"false" }</td>
			</tr>
		</tbody>
	</table>  
</div>

<h4>AvaTax Metrics</h4>
<div class="mobile-table">
	<table class="styled-table">
		<thead>
			<tr>
				<th>URL</th>
				<th>Method</th>
				<th>Authorization</th>
				<th>Query String</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>http://<i>SystemUrl</i>:30009/metrics</td>
				<td>GET</td>
				<td>Basic Authorization</td>
				<td>seconds (range from 1 to 86400). If missing, default is 60.</td>
			</tr>
		</tbody>
	</table>  
	CURL example: curl http://10.20.30.40:30009/metrics?seconds=60 -H "Authorization: Basic MTIzNDU2Nzg5OkdvUmVkU294Cg=="
See https://en.wikipedia.org/wiki/Basic_access_authentication#Client_side for basic authorization.

</div>
</b4>
</main>
        </section>
          
    </div>
    
        <footer>
            <ul class="global">
                <li><a href="https://www.avalara.com/"><span class="icon-sphere"></span>Avalara.com</a></li>
                <li><a href="https://help.avalara.com/"><span class="icon-help"></span>Help Center</a></li>
            </ul>


            <ul class="social">
                <li class="twitter"><a target="_blank" href="https://twitter.com/avadev">Twitter</a></li>
                <li class="facebook"><a target="_blank" href="https://www.facebook.com/avalara">Facebook</a></li>
                <li class="linkedin"><a target="_blank" href="https://www.linkedin.com/company/avalara">LinkedIn</a></li>
                <li class="youtube"><a target="_blank" href="https://avlr.co/avadev">Youtube</a></li>
            </ul>
            
            


            <ul class="legal">
                <li>&copy; 2018 Avalara, Inc. All rights reserved</li>
                <li><a href="https://www.avalara.com/site-terms/">Terms of use</a></li>
                <li><a href="https://www.avalara.com/privacy-policy/">Privacy policy</a></li>
            </ul>

            <ul class="github">
                <li class="social github-icon"><a href="https://github.com/Avalara/developer-dot/edit/master/avatax/cloudconnect.md"><span>GH</span> Edit this page on GitHub</a></li>

            </ul>
        </footer>
    
    <script src="/developer-dot/public/js/vendor/jquery-2.2.4.min.js"></script>
    <script src="https://ajax.aspnetcdn.com/ajax/jquery.ui/1.8.18/jquery-ui.min.js"></script>

    <script src="/developer-dot/public/js/vendor/bootstrap.min.js"></script>

    
    <script src="/developer-dot/public/js/vendor/aws-sdk-2.5.3.min.js"></script>
    <script>
        AWS.config.region = 'us-west-2';
    </script>

    

    <!-- Adobe Dynamic Tag Manager -->
    <script type="text/javascript">
        _satellite.pageBottom();
    </script>
    <!-- End Adobe Dynamic Tag Manager -->
</body>

</html>