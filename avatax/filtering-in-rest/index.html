<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
    <meta name="robots" content="index,follow" /> 

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Filtering in AvaTax REST | Avalara Developer</title>

    
    
    
    
    
    <meta name="description" content="API solutions for end-to-end tax compliance">

    <link rel="canonical" href="https://developer.avalara.com/avatax/filtering-in-rest/">

    
    <meta property="og:title" content="Filtering in AvaTax REST | Avalara Developer" />
    <meta property="og:type" content="article" />
    <meta property="og:site_name" content="Avalara Developer Network" />
    <meta property="og:description" content="API solutions for end-to-end tax compliance"/>
    <meta property="og:image" content="/developer-dot/public/images/default_share.png" />

    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:image" content="https://developer.avalara.com/public/images/default_share.png "/>
    <meta name="twitter:title" content="Filtering in AvaTax REST">
    <meta name="twitter:description" content="">
    <meta name="twitter:site" content="@avalara" />

    <link rel="apple-touch-icon" sizes="57x57" href="/developer-dot/public/images/favicon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/developer-dot/public/images/favicon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/developer-dot/public/images/favicon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/developer-dot/public/images/favicon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/developer-dot/public/images/favicon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/developer-dot/public/images/favicon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/developer-dot/public/images/favicon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/developer-dot/public/images/favicon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/developer-dot/public/images/favicon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/developer-dot/public/images/favicon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/developer-dot/public/images/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/developer-dot/public/images/favicon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/developer-dot/public/images/favicon/favicon-16x16.png">
    <link rel="manifest" href="/developer-dot/public/images/favicon/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff ">
    <meta name="msapplication-TileImage" content="/developer-dot/public/images/favicon/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff ">

    <link rel="stylesheet" href="/developer-dot/public/css/style.css">

    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <!-- Adobe Dynamic Tab Manager Tag Manager -->
    <script src="https://assets.adobedtm.com/bc10a2a9cf337c664f8f74e778a1987125aea184/satelliteLib-0387aefee1ddb8b2a9db7e4165c8d84dc0de8621.js"></script>
    <!-- End Adobe Dynamic Tab Manager Tag Manager -->
</head>
 

<body id="top" data-product=avaTax>
    <header>
        <!-- style ref: https://www.avalara.com/us/en/blog/2019/01/avatax-19-1-patch-notes.html -->
        <nav class="navbar navbar-static" style="box-shadow: 0 1px 3px rgba(0,0,0,0.12);">
            <div class="pageTitle" style="float: left">
                <a href="/developer-dot/">
                    <img src="/developer-dot/public/images/Avalara_logo.svg" alt="Avalara Developer Network">
                    <span>Developer</span>
                </a>
            </div>
            <div class="navbar-header">
                <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target=".js-navbar-collapse">
                <span>Menu</span>
            </button>
            </div>
            <div class="collapse navbar-collapse js-navbar-collapse">
                <ul class="nav navbar-nav apis " style="padding-top: 8px">
                    <li class="apis visible-xs-block"><a href="/developer-dot/avalara-apis"><span class="text-uppercase">API</span>s</a></li>
                    <li class="visible-xs-block"><a href="/developer-dot/avatax/dev-guide/"><span class="text-uppercase">AvaTax Developer Guide</span></a></li>
                    <li class="apis dropdown dropdown-large hidden-xs">
                        <a class="dropdown-toggle" data-toggle="dropdown"><span class="text-uppercase">API</span>s <i class="caret"></i></a>
                        <div class="dropdown-menu dropdown-menu-large" style="min-width: 700px; padding: 15px;">
                            <div class="row">
                                <div class="col-md-12"><a href="/developer-dot/avalara-apis">APIs overview</a></div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <h2>Tax calculation</h2>
                                    
                                        <h4>Avalara AvaTax</h4>
                                        <ul class="pipe">
                                            
                                                <li><a href="/developer-dot/avatax">Overview</a></li>
                                            
                                                <li><a href="/developer-dot/avatax/dev-guide">Developer Guide</a></li>
                                            
                                                <li><a href="/developer-dot/api-reference/avatax/rest/v2">API reference</a></li>
                                            
                                            <br/>
                                            <li><a href="/developer-dot/avatax/use-cases">Use Cases</a></li>
                                            <li><a href="https://buy.avalara.com/signup?partner=API">Start your AvaTax free trial now!</a></li>
                                        </ul>
                                     
                                    
                                        <h4>Avalara Communications</h4>
                                        <ul class="pipe">
                                            
                                                <li><a href="/developer-dot/communications">Overview</a></li>
                                            
                                                <li><a href="/developer-dot/communications/dev-guide_rest_v2">REST v2 Developer Guide</a></li>
                                            
                                                <li><a href="/developer-dot/communications/dev-guide_geo_soap">AFC Geo Soap Developer Guide</a></li>
                                            
                                        </ul>
                                     
                                    
                                        <h4>Avalara Excise</h4>
                                        <ul class="pipe">
                                            
                                                <li><a href="/developer-dot/excise">Overview</a></li>
                                            
                                                <li><a href="/developer-dot/api-reference/excise/5_18_0">API reference</a></li>
                                            
                                        </ul>
                                    
                                    
                                        <h4>Avalara MyLodgeTax</h4>
                                        <ul class="pipe">
                                            
                                                <li><a href=/mylodge>Overview</a></li>
                                            
                                                <li><a href=/api-reference/myLodgeAPI/overview-onboarding/>API reference</a></li>
                                            
                                        </ul>
                                    
                                    	
                                        <h4>Avalara Item Classification</h4>	
                                        <ul class="pipe">	
                                            	
                                                <li><a href=/item-classification>Overview</a></li>	
                                            	
                                                <li><a href=/api-reference/item-classification/v2/>API reference</a></li>	
                                            	
                                        </ul>	
                                    
                                </div>
                                <div class="col-md-6">
                                    <h2>Compliance document management</h2>
                                    
                                        <h4>Avalara CertCapture</h4>
                                        <ul class="pipe">
                                            
                                                <li><a href="/developer-dot/certcapture">Overview</a></li>
                                            
                                                <li><a href="http://docs.certcapture6xrest.apiary.io/">API reference</a></li>
                                            
                                        </ul>
                                    
                                    <h2>Returns &amp; filing</h2>
                                     
                                    
                                        <h4>Avalara TrustFile</h4>
                                        <ul class="pipe">
                                            
                                                <li><a href="/developer-dot/trustfile">Overview</a></li>
                                            
                                                <li><a href="/developer-dot/api-reference/trustfile/api">API reference</a></li>
                                            
                                        </ul>
                                    
                                </div>
                            </div>
                        </div>
                    </li>
                    <li class="sdk dropdown dropdown-large hidden-xs">
                        <a class="dropdown-toggle" data-toggle="dropdown"><span class="text-uppercase">SDK</span> <b class="caret"></b></a>
                        <ul class="dropdown-menu dropdown-menu-large noPipe">
                            <li ><a href="/developer-dot/avatax/signup">Get Started with AvaTax</a></li>
                            <br/>
                            <li><a href="/developer-dot/sdk/">The AvaTax SDK</a></li>
                            <li><a href="/developer-dot/sdk/soap">SOAP SDK</a></li>
                            <br/>
                            <li><a target="_blank" href="https://www.nuget.org/packages/Avalara.AvaTax/">Install C# SDK via NuGet</a></li>
                            <li><a target="_blank" href="https://www.npmjs.com/package/avatax">Install JavaScript SDK via NPMJS</a></li>
                            <li><a target="_blank" href="https://search.maven.org/#search%7Cga%7C1%7Cg%3A%22net.avalara.avatax%22">Install JRE SDK via Maven</a></li>
                            <li><a target="_blank" href="https://packagist.org/packages/avalara/avataxclient">Install PHP SDK via Composer</a></li>
                            <li><a target="_blank" href="https://pypi.python.org/pypi/Avalara">Install Python SDK via PyPI</a></li>
                            <li><a target="_blank" href="https://rubygems.org/gems/avatax">Install Ruby SDK via RubyGems</a></li>
                        </ul>
                    </li>
                    <li class="tests dropdown dropdown-large hidden-xs">
                        <a class="dropdown-toggle" data-toggle="dropdown"><span class="text-uppercase">Tests</span> <b class="caret"></b></a>
                        <ul class="dropdown-menu dropdown-menu-large noPipe">
                            <li><a href="/developer-dot/tests/communications-test">Avalara for Communications Test Cases</a></li>
                            <li><a href="/developer-dot/tests/testing-your-integration/">Avalara Test Cases</a></li>

                        </ul>
                    </li>            
                    <li class="certification dropdown dropdown-large hidden-xs">
                        <a class="dropdown-toggle" data-toggle="dropdown"><span class="text-uppercase">Become Certified</span> <b class="caret"></b></a>
                        <ul class="dropdown-menu dropdown-menu-large noPipe" style="min-width: 230px">
                            <li><a href="/developer-dot/certification/">Overview</a></li>
                            <li><a href="/developer-dot/certification/excise/">Avalara Excise</a></li>
                            <li><a href="/developer-dot/certification/avatax/">Certification Badges</a></li>
                        </ul>
                    </li>
                    <li class="resources dropdown dropdown-large hidden-xs">
                        <a class="dropdown-toggle" data-toggle="dropdown"><span class="text-uppercase">Resources</span> <b class="caret"></b></a>
                        <ul class="dropdown-menu dropdown-menu-large noPipe">
                            <li><a href="/developer-dot/resources/conferences">Avalara CRUSH Conference</a></li>
                            <li><a href="https://avalaracommunity.force.com/partnerlaunch" target="_blank">Avalara Launch Center</a></li>
                            <li><a href="https://www.avalara.com/us/en/blog/category/patch-updates.html">API Patch Notes</a></li>
                            <li><a href="https://www.avalara.com/us/en/blog/category/developer.html">Developer Blog</a></li>
                            <li><a href="/developer-dot/resources/support">Developer Support Options</a></li>
                            <li><a href="https://community.avalara.com/avalara/category_sets/developers">Help Forum</a></li>
                            <li><a href="https://www.avalara.com/us/en/learn/webinars.html#developerwebinars">Webinars</a></li>
                            <li><a href="https://offers.avalara.com/monthlydevelopernewsletter/">Monthly Developer Newsletter</a></li>
                        </ul>
                    </li>
                    <li class="resources visible-xs-block"><a href="/developer-dot/resources/conferences"><span class="text-uppercase">Avalara CRUSH Conference</span></a></li>
                    <li class="resources visible-xs-block"><a href="https://avalaracommunity.force.com/partnerlaunch"><span class="text-uppercase">Avalara Launch Center</span></a></li>
                    <li class="resources visible-xs-block"><a href="https://www.avalara.com/us/en/blog/category/patch-updates.html"><span class="text-uppercase">API Patch Notes</span></a></li>
                    <li class="resources visible-xs-block"><a href="https://www.avalara.com/us/en/blog/category/developer.html"><span class="text-uppercase">Developer Blog</span></a></li>
                    <li class="resources visible-xs-block"><a href="/developer-dot/resources/support"><span class="text-uppercase">Developer Support Options</span></a></li>
                    <li class="resources visible-xs-block"><a href="https://community.avalara.com/avalara/category_sets/developers"><span class="text-uppercase">Help Forum</span></a></li>
                    <li class="resources visible-xs-block"><a href="https://community.avalara.com/avalara/category_sets/developers"><span class="text-uppercase">Webinars</span></a></li>
                    <li class="resources visible-xs-block"><a href="https://offers.avalara.com/monthlydevelopernewsletter/"><span class="text-uppercase">Monthly Developer Newsletter</span></a></li>
                    
                </ul>
                
                <div style="float: right;">
                    
                        <a href="/developer-dot/avatax/avatax-demo/" class="btn btn-signup btn-demo" style="margin-top: 8px">Demo API</a>
                    
                    <a href="https://buy.avalara.com/signup?partner=API" class="btn btn-signup" style="margin-top: 8px">Free Trial</a>
                </div>
                
            </div>
        </nav>
    </header>
    <div class="container-fluid use_cases">
          


<div class="breadcrumbs">
    <div class="col-md-12">
        <ul class="pipe">
            <li><span class="text-uppercase">Tax Calculation API</span>s</li>
            <li class="text-uppercase"><a href="/developer-dot/avatax">Avalara avaTax</a></li>
            <li class="text-uppercase">use cases</li>
        </ul>
    </div>
</div>
  
        <section class="row padding-sides half">
            <nav class="col-md-3">
                 <ul class="api-ref-side-nav nav nav-pills nav-stacked hidden-xs hidden-sm">
    <li ><a href="/developer-dot/avatax/use-cases">Document Workflow</a></li>
    <li ><a href="/developer-dot/avatax/calculating-tax">Calculating Tax</a></li>
    <li ><a href="/developer-dot/avatax/address-validation">Address Validation</a></li>
    <li ><a href="/developer-dot/avatax/reportable-transactions">Reportable Transactions</a></li>
    <li ><a href="/developer-dot/avatax/handling-return-invoices">Product Returns</a></li>
    <li ><a href="/developer-dot/avatax/handling-tax-exempt-customers">Exempt Transactions</a></li>
    <li ><a href="/developer-dot/avatax/voiding-documents">Voiding Documents</a></li>
    <li ><a href="/developer-dot/avatax/vat-transactions">VAT Transactions</a></li>
    <li ><a href="/developer-dot/avatax/drop-shipping">Drop Shipping</a></li>
    <li ><a href="/developer-dot/avatax/consumer-use-tax">Consumer Use Tax</a></li>
    <li ><a href="/developer-dot/avatax/batch-file-reference">Batch File Reference</a></li>
    <li ><a href="/developer-dot/avatax/automated-provisioning">Automated Provisioning</a></li>
    <li ><a href="/developer-dot/avatax/soap-or-rest">SOAP or REST</a></li>
    <li class="active" ><a href="/developer-dot/avatax/filtering-in-rest/">Filtering in REST</a></li>
    <li ><a href="/developer-dot/avatax/authentication-in-rest/">Authentication in REST</a></li>
    <li ><a href="/developer-dot/avatax/client-headers/">Client Profile Headers</a></li>
    <li ><a href="/developer-dot/avatax/finding-your-companyid">Finding Your CompanyId</a></li>
    <li ><a href="/developer-dot/avatax/proxy-server-settings">Proxy Server Settings</a></li>
    <li ><a href="/developer-dot/avatax/ssl-certificates">SSL Certificates</a></li>
    <li ><a href="/developer-dot/avatax/errors-and-outages">Errors and Outages</a></li>
    <li ><a href="/developer-dot/avatax/errors">REST Error Codes</a></li>
    <li ><a href="/developer-dot/avatax/common-errors">SOAP Error Codes</a></li>
    <li ><a href="/developer-dot/avatax/service-availability-and-performance">Service Availability</a></li>
    <li ><a href="/developer-dot/avatax/going-live">Going Live</a></li>
    <li ><a href="/developer-dot/avatax/logins">Logins and Resources</a></li>
    <li ><a href="/developer-dot/avatax/cloudconnect">Cloud Connect</a></li>

</ul>
<div class="sm-section-nav dropdown visible-xs-block visible-sm-block">
    <button id="use-case-nav" type="button" data-toggle="dropdown">Use Cases</button>
    <p>Tax Use Cases</p>
    <ul class="dropdown-menu" aria-labelledby="use-case-nav">
        <li><a href="/developer-dot/avatax/use-cases">Document Workflow</a></li>
        <li><a href="/developer-dot/avatax/calculating-tax">Calculating Tax</a></li>
        <li><a href="/developer-dot/avatax/address-validation">Address Validation</a></li>
        <li><a href="/developer-dot/avatax/reportable-transactions">Reportable Transactions</a></li>
        <li><a href="/developer-dot/avatax/handling-return-invoices">Product Returns</a></li>
        <li><a href="/developer-dot/avatax/handling-tax-exempt-customers">Exempt Transactions</a></li>
        <li><a href="/developer-dot/avatax/voiding-documents">Voiding Documents</a></li>
        <li><a href="/developer-dot/avatax/vat-transactions">VAT Transactions</a></li>
        <li><a href="/developer-dot/avatax/drop-shipping">Drop Shipping</a></li>
        <li><a href="/developer-dot/avatax/consumer-use-tax">Consumer Use Tax</a></li>
        <li><a href="/developer-dot/avatax/batch-file-reference/">Batch File Reference</a></li>
        <li><a href="/developer-dot/avatax/automated-provisioning">Automated Provisioning</a></li>
        <li><a href="/developer-dot/avatax/soap-or-rest">SOAP or REST</a></li>
        <li><a href="/developer-dot/avatax/filtering-in-rest/">Filtering in REST</a></li>
        <li><a href="/developer-dot/avatax/authentication-in-rest/">Authentication in REST</a></li>
        <li><a href="/developer-dot/avatax/client-headers/">Client Profile Headers</a></li>
        <li><a href="/developer-dot/avatax/finding-your-companyid">Finding Your CompanyId</a></li>
        <li><a href="/developer-dot/avatax/proxy-server-settings">Proxy Server Settings</a></li>
        <li><a href="/developer-dot/avatax/ssl-certificates">SSL Certificates</a></li>
        <li><a href="/developer-dot/avatax/errors-and-outages">Errors and Outages</a></li>
        <li><a href="/developer-dot/avatax/errors">REST Error Codes</a></li>
        <li><a href="/developer-dot/avatax/common-errors">SOAP Error Codes</a></li>
        <li><a href="/developer-dot/avatax/service-availability-and-performance">Service Availability</a></li>
        <li><a href="/developer-dot/avatax/going-live">Going Live</a></li>
        <li><a href="/developer-dot/avatax/logins">Logins and Resources</a></li>
        <li><a href="/developer-dot/avatax/cloudconnect">Cloud Connect</a></li>
    </ul>
</div>
 
            </nav>
            <main class="col-md-9">
  
    <h1>Filtering in AvaTax REST
        
    </h1>
<h2>Filter Operation Symbols</h2>

<p>Filter operations are used to test the value of a field and return only those records where the test is true.  When combined with pagination, filtering can allow you to select a subset of records and browse through all information stored in AvaTax in a performant, consistent manner.</p>

<p>Avalara supports the following filtering operations defined in the <a href="https://github.com/Microsoft/api-guidelines/blob/master/Guidelines.md#97-filtering">Microsoft REST API Guidelines</a>.  Please note that in addition to the normal method of naming these operations, we also support symbols - but to use those symbols, you must properly URL encode your query string.  To avoid URL encoding problems, we encourage you to use the Microsoft syntax wherever possible.</p>

<h3>Using Filters</h3>

<p>Filters are present all throughout the AvaTax REST v2 API.  You can use filters in most every place as a way to search for objects matching specific criteria.  For example, let’s say you want to search for all companies with an address in California.  You might do the following:</p>

<pre>GET /api/v2/companies?$filter=region eq 'CA'</pre>

<p>In this example, calling <code class="highlighter-rouge">GET /api/v2/companies</code> is an API call that returns all companies in your account.  However, the <code class="highlighter-rouge">$filter=region eq 'CA'</code> adds a test: the API call will only return those companies who have a field <code class="highlighter-rouge">region</code> with value <code class="highlighter-rouge">CA</code>.</p>

<p>As you can imagine, there’s a lot you can do with filtering.  Let’s walk through the basics.</p>

<h3>Using Pagination</h3>

<p>AvaTax supports pagination using the <code class="highlighter-rouge">$top</code> and <code class="highlighter-rouge">$skip</code> parameters.  These allow you to handle pagination within your own software and to only fetch those records that need to be shown, avoiding the overhead of processing any information that is not desired.</p>

<ul class="normal">
    <li>The <code class="highlight-rouge">$top</code> parameter controls how many records should be returned.  You can think of this as your "page size".  If you pass in a value of 50, then you will receive only the first fifty records matching your filter.</li>
    <li>The <code class="highlight-rouge">$skip</code> parameter controls how many records you skip before first returning results.  If you pass in a value of 100, AvaTax will only begin returning results after the first 100 records have been skipped.</li>
    <li>For example, if you are currently showing page 3 of records, and your page size is 100, then you would pass in the values <code class="highlight-rouge">$top=100&amp;skip=200</code>.  This skips the first 100 records on page one, the second 100 records on page two, then shows the next 100 records on page three.</li>
</ul>

<p>Pagination results are returned in the <code class="highlighter-rouge">@recordsetCount</code> and <code class="highlighter-rouge">@nextLink</code> variables.  Regardless of your page size, the total number of records that match your filter is returned in the <code class="highlighter-rouge">@recordsetCount</code> variable.  To determine the number of pages of information available, divide the <code class="highlighter-rouge">@recordsetCount</code> value by the <code class="highlighter-rouge">$top</code> value, rounding up.  This would allow you to display a link that allows the user to click on the specified page number and move to it directly.</p>

<p>Alternatively, if you simply want to allow the user to click a “Next” button to jump directly one page, you can use the <code class="highlighter-rouge">@nextLink</code> variable.  That variable contains the URL that you could hit to get the next page immediately following the current one.</p>

<h3>Filter Criteria</h3>

<p>The Microsoft standard defines an english-language shortcut for all filter criteria; Avalara supports both this english-language shortcut as well as the common mathematical symbols for filter criteria.</p>

<p>Here’s a list of filters supported in REST v2:</p>

<div class="mobile-table">
    <table class="styled-table">
        <thead>
            <tr>
                <th>Filter</th>
                <th>Symbol</th>
                <th>Example</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Equals (EQ or =)</td>
                <td>EQ or =</td>
                <td><pre>isActive eq true</pre></td>
            </tr>
            <tr>
                <td>Greater Than</td>
                <td>GT or &gt;</td>
                <td><pre>taxDate gt '2016-01-01'</pre></td>
            </tr>
            <tr>
                <td>Greater Than Or Equal</td>
                <td>GE or &gt;=</td>
                <td><pre>id ge 123</pre></td>
            </tr>
            <tr>
                <td>Not Equal</td>
                <td>NE or &lt;&gt; or !=</td>
                <td><pre>id ne 123</pre></td>
            </tr>
            <tr>
                <td>Less Than</td>
                <td>LT or &lt;</td>
                <td><pre>id lt 123</pre></td>
            </tr>
            <tr>
                <td>Less Than Or Equal</td>
                <td>LE or &lt;=</td>
                <td><pre>id le 123</pre></td>
            </tr>
        </tbody>
    </table>
</div>

<h2>Filtering Against Normalized Data</h2>

<p>In some cases, the AvaTax API provides post-processing, normalization, and standardization of data.  AvaTax only stores normalized and validated data in order to ensure consistency.  For example, the AvaTax <a href="/developer-dot/api-reference/avatax/rest/v2/methods/Locations/CreateLocations/">CreateLocation API</a> allows you to provide a full length country name and region name; but internally, we validate all country and region names against the International Standards Organization’s ISO 3166 database.</p>

<p>This means that if you provide your country name as “United States”, we convert it to the two character ISO 3166 code <code class="highlighter-rouge">US</code>.  Someone else who calls the country “The United States Of America” or “U.S.A.” will also be normalized to <code class="highlighter-rouge">US</code>.  In each case, only the value <code class="highlighter-rouge">US</code> is stored; we do not keep track of the original value pre-normalization.</p>

<p>When searching the database using <code class="highlighter-rouge">$filter</code>, you can only search against the normalized data.  This means that you must always say <code class="highlighter-rouge">$filter=country eq US</code>.  Because each search goes against the normalized data, you’ll always get the correct results across your entire data set.</p>

<h2>Avalara-Specific Filters</h2>

<p>The following filters are not defined in the Microsoft standard, but are available in the Avalara REST v2 API:</p>
<div class="mobile-table">
    <table class="styled-table">
        <thead>
            <tr>
                <th>Filter</th>
                <th>Example</th>
                <th>Notes</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Between</td>
                <td><pre>amount between 10 and 20</pre></td>
                <td>Matches all records greater than or equal to the first value, plus all records less than the second value.</td>
            </tr>
            <tr>
                <td>In</td>
                <td><pre>id in (123, 456, 789)</pre></td>
                <td>Matches all records whose value is the same as one of the items in the list.</td>
            </tr>
            <tr>
                <td>Contains</td>
                <td><pre>name contains 'Bob'</pre></td>
                <td>Matches all records whose value contains the specified filter string.</td>
            </tr>
            <tr>
                <td>StartsWith</td>
                <td><pre>name startswith 'Bob'</pre></td>
                <td>Matches all records whose value begins with the specified filter string.</td>
            </tr>
            <tr>
                <td>EndsWith</td>
                <td><pre>name endswith 'Bob'</pre></td>
                <td>Matches all records whose value ends with the specified filter string.</td>
            </tr>
            <tr>
                <td>Is Null / Is Not Null</td>
                <td><pre>ref1 is null</pre></td>
                <td>Matches all records where the field's null flag is a specific value.</td>
            </tr>
        </tbody>
    </table>
</div>

<h2>Conjunctions</h2>

<p>On occasion you may need to retrieve objects that have a combination of values.  To do this, you may need to search for objects that match a number of statements at once.  To do this, you can use conjunctions to chain together multiple statements, and you can use parenthesis symbols to define the order of operations.</p>

<p>When using parenthesis, remember that all elements within the parenthesis are resolved first before any elements outside of the parenthesis.  If you have multiple clauses enclosed in parenthesis, they may be resolved in any order.  The following are examples of valid conjunctions:</p>

<pre>
isActive eq true AND hasProfile eq true
taxDate eq '2016-01-01' or taxDate eq '2016-01-02'
(firstName = 'bob' or firstName = 'alice') and lastName = 'smith'
</pre>

<h2>Using Apostrophe or Quotation</h2>

<p>To include apostrophe in the filtering value, use a single apostrophe sign inside double quotes:</p>
<pre>name contains "Bob's shop"</pre>
<p>Or a two apostrophe sign inside single quote:</p>
<pre>name contains 'Bob''s shop'</pre>

<p>To include quotation in the filtering value, use double quotes inside single quotes:</p>
<pre>'Bob''s "special" recipe'</pre>
<p>Or use two double quotation inside double quotations:</p>
<pre>"Bob's ""special"" recipe"</pre>

<h2>Complex Examples</h2>

<p>Now let’s put it all together, shall we?</p>

<pre>GET /api/v2/companies/$filter=name startswith 'Bob' and (isActive eq true or hasProfile eq true)</pre>

<p>This example retrieves all companies with a name begins with the letters ‘Bob’ and where either the isActive flag is true or the hasProfile flag is true.</p>

<pre>GET /api/v2/companies/123/transactions?$filter=taxDate between '2016-01-01' and '2016-02-01' and status eq committed</pre>

<p>Matches all records where the taxDate is in the month of January and the record’s status is ‘committed’.</p>

<pre>GET /api/v2/locations$filter=(country eq 'US' and region eq 'CA') or (country eq 'CA')</pre>

<p>Matches all locations for all companies where the location is either in the country of Canada or in California in the United States.  This filter carefully ensures that even if a different country has a region whose code is “CA”, this filter will still only return those locations in the United States.</p>

<pre>GET /api/v2/companies$filter=code startswith 'Franchise' and name contains 'Bob''s'</pre>

<p>Matches all companies whose code begins with the characters <code class="highlighter-rouge">Franchise</code> and whose name contains the phrase <code class="highlighter-rouge">Bob's</code>.  Note the apostrophe is doubled up.</p>









</main>
        </section>
          
        <section class="row padding-sides">
            <main class="col-md-12"><div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'developeravalaracom'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</main>
        </section>
        
    </div>
    
        <footer>
            <ul class="global">
                <li><a href="https://www.avalara.com/"><span class="icon-sphere"></span>Avalara.com</a></li>
                <li><a href="https://help.avalara.com/"><span class="icon-help"></span>Help Center</a></li>
            </ul>


            <ul class="social">
                <li class="twitter"><a target="_blank" href="https://twitter.com/avadev">Twitter</a></li>
                <li class="facebook"><a target="_blank" href="https://www.facebook.com/avalara">Facebook</a></li>
                <li class="linkedin"><a target="_blank" href="https://www.linkedin.com/company/avalara">LinkedIn</a></li>
                <li class="youtube"><a target="_blank" href="https://avlr.co/avadev">Youtube</a></li>
            </ul>
            
            


            <ul class="legal">
                <li>&copy; 2018 Avalara, Inc. All rights reserved</li>
                <li><a href="https://www.avalara.com/site-terms/">Terms of use</a></li>
                <li><a href="https://www.avalara.com/privacy-policy/">Privacy policy</a></li>
            </ul>

            <ul class="github">
                <li class="social github-icon"><a href="https://github.com/Avalara/developer-dot/edit/master/avatax/filtering-in-rest.md"><span>GH</span> Edit this page on GitHub</a></li>

            </ul>
        </footer>
    
    <script src="/developer-dot/public/js/vendor/jquery-2.2.4.min.js"></script>
    <script src="https://ajax.aspnetcdn.com/ajax/jquery.ui/1.8.18/jquery-ui.min.js"></script>

    <script src="/developer-dot/public/js/vendor/bootstrap.min.js"></script>

    
    <script src="/developer-dot/public/js/vendor/aws-sdk-2.5.3.min.js"></script>
    <script>
        AWS.config.region = 'us-west-2';
    </script>

    

    <!-- Adobe Dynamic Tag Manager -->
    <script type="text/javascript">
        _satellite.pageBottom();
    </script>
    <!-- End Adobe Dynamic Tag Manager -->
</body>

</html>